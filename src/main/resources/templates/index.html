<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
<title>Mars Rover API</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
<link rel="icon" href="data:,">
<link th:href="@{/css/stylesheet.css}" rel="stylesheet" />

</head>
<body>
<button class="button" onclick="toggleHoverWindow()">Instructions</button>

    <div class="hover-window" id="hover-window">
      <p><b>1.</b> Choose the rover.</p>
      <p><b>2.</b> Choose one or more cameras.</p>
      <p><b>3.</b> Choose day (Sol) on Mars:</p>
        <p>  - Curiosity on Mars - 3801 sols.</p>
        <p>  - Opportunity on Mars - 5111 sols.</p>
        <p>  - Spirit on Mars- 2208 sols.</p>
        <p> <b>4.</b>Tick Remember Preferences to continue from the last search.</p>
        <p> <b>5.</b>Click Submit.</p>
    </div>	
	
<div class="container">
<!-- putting the class container makes the contect responsive -->
<h2>Welcome to the <b>Mars Rover API</b></h2>
	<p>created with Java JDK11, Bootstrap, JQuery, Spring, MySQL using <b>NASA API</b></p>
<p>by Sebastian Wrobel (2022)</p>
<p>upon Trevor Page's (<a th:href="@{http://www.CodersCampus.com}" target="blank"/>CodersCampus.com</a>) consultation.</p>

	<!-- button added   -->
<button id="languageButton" onclick="changeLanguageToPolish()">POLISH</button>

   <form method="post" action="" id="frmRoverType"> 
        <input type="hidden" th:field="${homeDto.marsApiRoverData}" />
        <input type="hidden" th:field="${homeDto.userId}"/>
        <input type="hidden" id="createUser" name="createUser" value="false"/>
        
        <div class="btn-group btn-group-lg" role="group">
          <button type="button" class="btn btn-secondary" id="marsApiCuriosity">Curiosity</button>
          <button type="button" class="btn btn-secondary" id="marsApiOpportunity">Opportunity</button>
          <button type="button" class="btn btn-secondary" id="marsApiSpirit">Spirit</button>
        </div>
        
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraFhaz}" th:attr="disabled=${!#lists.contains(validCameras, 'FHAZ') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraFhaz1">
                Front Hazard Avoidance Camera
              </label>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraRhaz}" th:attr="disabled=${!#lists.contains(validCameras, 'RHAZ') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraRhaz1">
                Rear Hazard Avoidance Camera
              </label>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-check">
            <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraMast}" th:attr="disabled=${!#lists.contains(validCameras, 'MAST') ? 'disabled' : 'false'}">
            <label class="form-check-label" for="cameraMast1">
              Mast Camera
            </label>
          </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraChemcam}" th:attr="disabled=${!#lists.contains(validCameras, 'CHEMCAM') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraChemcam1">
                Chemistry and Camera Complex
              </label>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraMahli}" th:attr="disabled=${!#lists.contains(validCameras, 'MAHLI') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraMahli1">
                Mars Hand Lens Imager 
              </label>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraMardi}" th:attr="disabled=${!#lists.contains(validCameras, 'MARDI') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraMardi1">
                Mars Descent Imager
              </label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraNavcam}" th:attr="disabled=${!#lists.contains(validCameras, 'NAVCAM') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraNavcam1">
                Navigation Camera
              </label>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraPancam}" th:attr="disabled=${!#lists.contains(validCameras, 'PANCAM') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraPancam1">
                Panoramic Camera
              </label>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" th:field="${homeDto.cameraMinites}" th:attr="disabled=${!#lists.contains(validCameras, 'MINITES') ? 'disabled' : 'false'}">
              <label class="form-check-label" for="cameraMinites1">
                Miniature Thermal Emission Spectrometer (Mini-TES)
              </label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="marsSol" class="col-form-label col-form-label-lg">Mars Sol (aka Mars Day): </label>
          <input class="form-control form-control-lg" type="number" th:field="${homeDto.marsSol}" min="0"/> 
        </div>
        
        <div class="row">
          <div class="col-3 col-md-2">
            <button type="submit" class="btn btn-primary btn-lg">Submit</button>
          </div>
          <div class="col-9 col-md-10" >
            <input type="checkbox" th:field="${homeDto.rememberPreferences}"/>
            <label for="rememberPreferences1">Remember Preferences</label>
          </div>
        </div>
      </form>
      
      
	
<!-- numbers sequence - from index beginning, to end, step   -->

  <div th:each="index : ${#numbers.sequence(0,roverData.photos.size(),4)}" class="row">
    <div class="col" th:if="${index < roverData.photos.size()}">
    <!-- img-fluid class in Bootstrap is responsible for images scaling -->
      <img th:src="${roverData.photos[index].imgSrc}" class="img-fluid"/>
    </div>
    <!-- index is 0 based, to fix Error size needs to be less  -->
    <div class="col" th:if="${index + 1 < roverData.photos.size()}">
      <img th:src="${roverData.photos[index + 1].imgSrc}" class="img-fluid"/>
    </div>
    <div class="col" th:if="${index + 2 < roverData.photos.size()}">
      <img th:src="${roverData.photos[index + 2].imgSrc}" class="img-fluid"/>
    </div>
    <div class="col" th:if="${index + 3 < roverData.photos.size()}">
      <img th:src="${roverData.photos[index + 3].imgSrc}" class="img-fluid"/>
    </div>
  </div>
</div>
<!--  th:each is Thymeleaf equivalent of forEach loop -->
<!-- <img th:each="photo : ${roverData.photos}" th:src="${photo.imgSrc}"/> -->
	
<script type="text/javascript" src="/js/index.js"></script>
</body>
<!--  to prevent the need to restart the server every time the change is made in html
spring.thymeleaf.cache=false in application.properties, as thymeleaf's feature is caching and 
by default it is turned on -->
</html>
